!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs")):"function"==typeof define&&define.amd?define("ng-google-one-tap",["exports","@angular/core","rxjs"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["ng-google-one-tap"]={},e.ng.core,e.rxjs)}(this,(function(e,t,n){"use strict";var o=new t.InjectionToken("CONFIGURATION"),r=function(){function e(e,t){this.envConfig=e,this.ngZone=t,this._promtMoment=new n.Subject,this._oneTapCredentialResponse=new n.Subject,this._authUserResponse=new n.Subject}return Object.defineProperty(e.prototype,"promtMoment",{get:function(){return this._promtMoment.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oneTapCredentialResponse",{get:function(){return this._oneTapCredentialResponse.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authUserResponse",{get:function(){return this._authUserResponse.asObservable()},enumerable:!1,configurable:!0}),e.prototype.tapInitialize=function(e){var t=this;window.onload=function(){t.tapRender(e)},"complete"==document.readyState&&this.tapRender(e)},e.prototype.tapRender=function(e){var t=this,n=Object.assign(Object.assign({},this.envConfig),e);(null==n?void 0:n.disable_exponential_cooldowntime)&&(document.cookie="g_state=;Path=/;"),window.google.accounts.id.initialize(Object.assign(Object.assign({},n),{callback:function(e){t.ngZone.run((function(){if(n.authvalidate_by_googleapis){var o=new XMLHttpRequest,r="https://oauth2.googleapis.com/tokeninfo?id_token="+e.credential;o.open("GET",r),o.send(),o.onreadystatechange=function(){4==o.readyState&&200==o.status&&t._authUserResponse.next(JSON.parse(o.responseText))}}t._oneTapCredentialResponse.next(e)}))}})),window.google.accounts.id.prompt((function(e){t._promtMoment.next(e)}))},e.prototype.signOut=function(){window.google.accounts.id.disableAutoSelect()},e.prototype.cancelTheTap=function(){window.google.accounts.id.cancel()},e}();r.decorators=[{type:t.Injectable}],r.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[o]}]},{type:t.NgZone}]};var i=function(){function e(){var e=document.createElement("script");e.async=!0,e.src="https://accounts.google.com/gsi/client",document.head.appendChild(e)}return e.config=function(t){return{ngModule:e,providers:[{provide:o,useValue:t},r]}},e}();i.decorators=[{type:t.NgModule,args:[{declarations:[],imports:[],exports:[]}]}],i.ctorParameters=function(){return[]},e.NgGoogleOneTapModule=i,e.NgOneTapService=r,e.Éµa=o,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-google-one-tap.umd.min.js.map